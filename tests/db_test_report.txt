********************* Test Case 1 *********************
Case: Insert subject with S_TYPE = W
Title: Insert subject
SQL: INSERT INTO SUBJECT (S_ID, FK_ST_NAME, S_NAME, S_SEMESTER, S_STUPO_HOURS, S_NOTES, S_TYPE) SELECT 1768531749, ST_NAME, 'Test Subject W', 1, 1.00, 'Test insert', 'W' FROM STUDY_PROGRAM FETCH FIRST 1 ROW ONLY
Result: ok
Detail: affected_rows=1
Title: Verify subject 1768531749
SQL: SELECT * FROM SUBJECT WHERE S_ID = 1768531749
Result: ok
Rows (first 10):
  {'S_ID': 1768531749, 'S_NAME': 'Test Subject W', 'S_STUPO_HOURS': '1.00', 'S_SEMESTER': 1, 'FK_ST_NAME': 'AN', 'S_NOTES': 'Test insert', 'S_TYPE': 'W'}
**************** End of Test Case 1 ****************

********************* Test Case 2 *********************
Case: Insert lecturer
Title: Insert teacher for lecturer
SQL: INSERT INTO TEACHER (T_ID, T_NAME, T_LASTNAME, FK_D_NAME, FK_ZIP, T_NOTES, T_IS_ACTIVE) VALUES (1768531749, 'Test', 'Lecturer', NULL, NULL, 'Test insert', 1)
Result: ok
Detail: affected_rows=1
Title: Insert lecturer
SQL: INSERT INTO LECTURER (T_ID, L_STREET_ADDRESS) VALUES (1768531749, 'Test Street 1')
Result: ok
Detail: affected_rows=1
Title: Verify lecturer 1768531749
SQL: SELECT * FROM LECTURER WHERE T_ID = 1768531749
Result: ok
Rows (first 10):
  {'T_ID': 1768531749, 'L_STREET_ADDRESS': 'Test Street 1', 'L_SUPERVISOR': None}
**************** End of Test Case 2 ****************

********************* Test Case 3 *********************
Case: Deactivate lecturer
Title: Insert teacher for lecturer
SQL: INSERT INTO TEACHER (T_ID, T_NAME, T_LASTNAME, FK_D_NAME, FK_ZIP, T_NOTES, T_IS_ACTIVE) VALUES (1768531749, 'Test', 'Lecturer', NULL, NULL, 'Test insert', 1)
Result: ok
Detail: affected_rows=1
Title: Insert lecturer
SQL: INSERT INTO LECTURER (T_ID, L_STREET_ADDRESS) VALUES (1768531749, 'Test Street 2')
Result: ok
Detail: affected_rows=1
Title: Deactivate lecturer
SQL: UPDATE TEACHER SET T_IS_ACTIVE = 0 WHERE T_ID = 1768531749
Result: ok
Detail: affected_rows=1
Title: Verify lecturer inactive 1768531749
SQL: SELECT T_ID, T_IS_ACTIVE FROM TEACHER WHERE T_ID = 1768531749
Result: ok
Rows (first 10):
  {'T_ID': 1768531749, 'T_IS_ACTIVE': 0}
**************** End of Test Case 3 ****************

********************* Test Case 4 *********************
Case: Deactivate professor
Title: Insert teacher for professor
SQL: INSERT INTO TEACHER (T_ID, T_NAME, T_LASTNAME, FK_D_NAME, FK_ZIP, T_NOTES, T_IS_ACTIVE) VALUES (1768531749, 'Test', 'Professor', NULL, NULL, 'Test insert', 1)
Result: ok
Detail: affected_rows=1
Title: Insert professor
SQL: INSERT INTO PROFESSOR (T_ID, P_ROOM) VALUES (1768531749, 'R-101')
Result: ok
Detail: affected_rows=1
Title: Deactivate professor
SQL: UPDATE TEACHER SET T_IS_ACTIVE = 0 WHERE T_ID = 1768531749
Result: ok
Detail: affected_rows=1
Title: Verify professor inactive 1768531749
SQL: SELECT T_ID, T_IS_ACTIVE FROM TEACHER WHERE T_ID = 1768531749
Result: ok
Rows (first 10):
  {'T_ID': 1768531749, 'T_IS_ACTIVE': 0}
**************** End of Test Case 4 ****************

********************* Test Case 5 *********************
Case: Hire professor
Title: Insert postal code
SQL: INSERT INTO POSTAL_CODE (ZIP, CITY) VALUES ('Z31749', 'Test City')
Result: ok
Detail: affected_rows=1
Title: Insert teacher for professor
SQL: INSERT INTO TEACHER (T_ID, T_NAME, T_LASTNAME, FK_D_NAME, FK_ZIP, T_NOTES, T_IS_ACTIVE) VALUES (1768531749, 'Test', 'Professor', NULL, 'Z31749', 'Test hire', 1)
Result: ok
Detail: affected_rows=1
Title: Insert professor
SQL: INSERT INTO PROFESSOR (T_ID, P_ROOM) VALUES (1768531749, 'R-202')
Result: ok
Detail: affected_rows=1
Title: Verify hired professor 1768531749
SQL: SELECT T.T_ID, T.T_IS_ACTIVE, T.FK_ZIP, P.P_ROOM FROM TEACHER T JOIN PROFESSOR P ON P.T_ID = T.T_ID WHERE T.T_ID = 1768531749
Result: ok
Rows (first 10):
  {'T_ID': 1768531749, 'T_IS_ACTIVE': 1, 'FK_ZIP': 'Z31749', 'P_ROOM': 'R-202'}
**************** End of Test Case 5 ****************

********************* Test Case 6 *********************
Case: Insert semester planning
Title: Start a new semester planning session for a upcoming term
SQL: INSERT INTO SEMESTER_PLANNING (SP_ID, SP_TERM, SP_VERSION_NR, SP_IS_FINAL) VALUES (1768531749, 'WS99', 1, 0)
Result: ok
Detail: affected_rows=1
Title: Verify semester planning 1768531749
SQL: SELECT * FROM SEMESTER_PLANNING WHERE SP_ID = 1768531749
Result: ok
Rows (first 10):
  {'SP_ID': 1768531749, 'SP_TERM': 'WS99', 'SP_VERSION_NR': 1, 'SP_IS_FINAL': 0}
**************** End of Test Case 6 ****************

********************* Test Case 7 *********************
Case: List subjects for SWB semester 6
Title: Query subjects for SWB semester 6
SQL: SELECT S.S_ID, S.S_NAME, S.S_SEMESTER, ST.ST_NAME FROM SUBJECT S JOIN STUDY_PROGRAM ST ON S.FK_ST_NAME = ST.ST_NAME WHERE ST.ST_NAME = 'SWB' AND S.S_SEMESTER = 6
Result: ok
Rows (first 10):
  {'S_ID': 171, 'S_NAME': 'Informationssysteme ', 'S_SEMESTER': 6, 'ST_NAME': 'SWB'}
  {'S_ID': 174, 'S_NAME': 'Labor Informationssysteme ', 'S_SEMESTER': 6, 'ST_NAME': 'SWB'}
  {'S_ID': 177, 'S_NAME': 'Sofwarequalit�t', 'S_SEMESTER': 6, 'ST_NAME': 'SWB'}
  {'S_ID': 179, 'S_NAME': 'Labor Softwarequalit�t ', 'S_SEMESTER': 6, 'ST_NAME': 'SWB'}
  {'S_ID': 181, 'S_NAME': 'IT-Sicherheit ', 'S_SEMESTER': 6, 'ST_NAME': 'SWB'}
  {'S_ID': 183, 'S_NAME': 'Labor IT-Sicherheit ', 'S_SEMESTER': 6, 'ST_NAME': 'SWB'}
  {'S_ID': 185, 'S_NAME': 'Studienprojekt ', 'S_SEMESTER': 6, 'ST_NAME': 'SWB'}
Title: Get current semester
SQL: SELECT MAX(SP_ID) AS SP_ID FROM SEMESTER_PLANNING
Result: ok
Rows (first 10):
  {'SP_ID': 3}
Title: Get next offering id
SQL: SELECT COALESCE(MAX(O_ID), 0) + 1 AS NEXT_ID FROM OFFERING
Result: ok
Rows (first 10):
  {'NEXT_ID': 807}
Title: Insert offering for subject 171
SQL: INSERT INTO OFFERING (O_ID, FK_S_ID, FK_SP_ID, O_PLANNED_HOURS) VALUES (807, 171, 3, 0)
Result: ok
Detail: affected_rows=1
Title: Insert offering for subject 174
SQL: INSERT INTO OFFERING (O_ID, FK_S_ID, FK_SP_ID, O_PLANNED_HOURS) VALUES (808, 174, 3, 0)
Result: ok
Detail: affected_rows=1
Title: Insert offering for subject 177
SQL: INSERT INTO OFFERING (O_ID, FK_S_ID, FK_SP_ID, O_PLANNED_HOURS) VALUES (809, 177, 3, 0)
Result: ok
Detail: affected_rows=1
Title: Insert offering for subject 179
SQL: INSERT INTO OFFERING (O_ID, FK_S_ID, FK_SP_ID, O_PLANNED_HOURS) VALUES (810, 179, 3, 0)
Result: ok
Detail: affected_rows=1
Title: Insert offering for subject 181
SQL: INSERT INTO OFFERING (O_ID, FK_S_ID, FK_SP_ID, O_PLANNED_HOURS) VALUES (811, 181, 3, 0)
Result: ok
Detail: affected_rows=1
Title: Insert offering for subject 183
SQL: INSERT INTO OFFERING (O_ID, FK_S_ID, FK_SP_ID, O_PLANNED_HOURS) VALUES (812, 183, 3, 0)
Result: ok
Detail: affected_rows=1
Title: Insert offering for subject 185
SQL: INSERT INTO OFFERING (O_ID, FK_S_ID, FK_SP_ID, O_PLANNED_HOURS) VALUES (813, 185, 3, 0)
Result: ok
Detail: affected_rows=1
Title: Verify inserted offerings
SQL: SELECT O_ID, FK_S_ID, FK_SP_ID FROM OFFERING WHERE O_ID IN (807, 808, 809, 810, 811, 812, 813)
Result: ok
Rows (first 10):
  {'O_ID': 807, 'FK_S_ID': 171, 'FK_SP_ID': 3}
  {'O_ID': 808, 'FK_S_ID': 174, 'FK_SP_ID': 3}
  {'O_ID': 809, 'FK_S_ID': 177, 'FK_SP_ID': 3}
  {'O_ID': 810, 'FK_S_ID': 179, 'FK_SP_ID': 3}
  {'O_ID': 811, 'FK_S_ID': 181, 'FK_SP_ID': 3}
  {'O_ID': 812, 'FK_S_ID': 183, 'FK_SP_ID': 3}
  {'O_ID': 813, 'FK_S_ID': 185, 'FK_SP_ID': 3}
**************** End of Test Case 7 ****************

********************* Test Case 8 *********************
Case: Missing offering assignments
Title: Find offerings without assignments
SQL: SELECT O.O_ID, O.FK_S_ID, O.FK_SP_ID FROM OFFERING O LEFT JOIN OFFERING_ASSIGNMENT OA ON OA.FK_O_ID = O.O_ID WHERE OA.FK_O_ID IS NULL
Result: ok
**************** End of Test Case 8 ****************

********************* Test Case 9 *********************
Case: Professor workload for semester
Title: Get current semester
SQL: SELECT MAX(SP_ID) AS SP_ID FROM SEMESTER_PLANNING
Result: ok
Rows (first 10):
  {'SP_ID': 3}
Title: Get a professor
SQL: SELECT T_ID FROM PROFESSOR FETCH FIRST 1 ROW ONLY
Result: ok
Rows (first 10):
  {'T_ID': 0}
Title: Compute professor workload
SQL: SELECT T_ID, T_NAME, T_LASTNAME, ASSIGNED_HOURS, REDUCTION_HOURS, TOTAL_WORKLOAD, SP_TERM FROM PROFESSOR_ESTIMATED_WORKLOAD WHERE T_ID = 0
Result: ok
Rows (first 10):
  {'T_ID': 0, 'T_NAME': None, 'T_LASTNAME': 'Service G', 'ASSIGNED_HOURS': '78.00', 'REDUCTION_HOURS': '0.00', 'TOTAL_WORKLOAD': '78.00', 'SP_TERM': 'WS1516'}
  {'T_ID': 0, 'T_NAME': None, 'T_LASTNAME': 'Service G', 'ASSIGNED_HOURS': '82.00', 'REDUCTION_HOURS': '0.00', 'TOTAL_WORKLOAD': '82.00', 'SP_TERM': 'SS15'}
  {'T_ID': 0, 'T_NAME': None, 'T_LASTNAME': 'Service G', 'ASSIGNED_HOURS': '75.00', 'REDUCTION_HOURS': '0.00', 'TOTAL_WORKLOAD': '75.00', 'SP_TERM': 'WS1415'}
**************** End of Test Case 9 ****************

********************* Test Case 10 *********************
Case: Report offered courses for semester
Title: Get current semester
SQL: SELECT MAX(SP_ID) AS SP_ID FROM SEMESTER_PLANNING
Result: ok
Rows (first 10):
  {'SP_ID': 3}
Title: Report offered courses for semester
SQL: SELECT S_ID, S_NAME, S_SEMESTER, ST_NAME, FK_SP_ID, SP_TERM FROM STUDY_PROGRAM_OFFERED_COURSES WHERE FK_SP_ID = 3 ORDER BY S_NAME
Result: ok
Rows (first 10):
  {'S_ID': 303, 'S_NAME': 'Algorithmen', 'S_SEMESTER': 7, 'ST_NAME': 'TIB', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
  {'S_ID': 274, 'S_NAME': 'Algorithmen', 'S_SEMESTER': 7, 'ST_NAME': 'KTB', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
  {'S_ID': 107, 'S_NAME': 'Algorithmen und Datenstrukturen', 'S_SEMESTER': 3, 'ST_NAME': 'SWB', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
  {'S_ID': 108, 'S_NAME': 'Algorithmen und Datenstrukturen', 'S_SEMESTER': 4, 'ST_NAME': 'WKB', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
  {'S_ID': 23, 'S_NAME': 'BWL', 'S_SEMESTER': 1, 'ST_NAME': 'WKB', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
  {'S_ID': 203, 'S_NAME': 'Bachelorarbeit ', 'S_SEMESTER': 7, 'ST_NAME': 'SWB', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
  {'S_ID': 205, 'S_NAME': 'Bachelorarbeit', 'S_SEMESTER': 7, 'ST_NAME': 'WKB', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
  {'S_ID': 204, 'S_NAME': 'Bachelorarbeit', 'S_SEMESTER': 7, 'ST_NAME': 'TIB', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
  {'S_ID': 202, 'S_NAME': 'Bachelorarbeit ', 'S_SEMESTER': 7, 'ST_NAME': 'MIB', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
  {'S_ID': 325, 'S_NAME': 'Bachelorarbeiten ASM," Export', 'S_SEMESTER': 1, 'ST_NAME': 'ASM', 'FK_SP_ID': 3, 'SP_TERM': 'WS1516'}
**************** End of Test Case 10 ****************

********************* Test Case 11 *********************
Case: Update offering assignment actual hours
Title: Insert department
SQL: INSERT INTO DEPARTMENT (D_NAME) VALUES ('D1768531749')
Result: ok
Detail: affected_rows=1
Title: Insert study program
SQL: INSERT INTO STUDY_PROGRAM (ST_NAME, FK_D_NAME) VALUES ('S1768531749', 'D1768531749')
Result: ok
Detail: affected_rows=1
Title: Insert subject
SQL: INSERT INTO SUBJECT (S_ID, FK_ST_NAME, S_NAME, S_SEMESTER, S_STUPO_HOURS, S_NOTES, S_TYPE) VALUES (1768531749, 'S1768531749', 'Test Subject', 1, 1.00, 'Test', 'W')
Result: ok
Detail: affected_rows=1
Title: Insert semester planning
SQL: INSERT INTO SEMESTER_PLANNING (SP_ID, SP_TERM, SP_VERSION_NR, SP_IS_FINAL) VALUES (1768531749, 'TS1768531749', 1, 0)
Result: ok
Detail: affected_rows=1
Title: Insert offering
SQL: INSERT INTO OFFERING (O_ID, FK_S_ID, FK_SP_ID, O_PLANNED_HOURS) VALUES (1768531749, 1768531749, 1768531749, 1)
Result: ok
Detail: affected_rows=1
Title: Insert teacher
SQL: INSERT INTO TEACHER (T_ID, T_NAME, T_LASTNAME, FK_D_NAME, FK_ZIP, T_NOTES, T_IS_ACTIVE) VALUES (1768531749, 'Test', 'Teacher', 'D1768531749', NULL, 'Test', 1)
Result: ok
Detail: affected_rows=1
Title: Insert offering assignment
SQL: INSERT INTO OFFERING_ASSIGNMENT (OA_ID, FK_O_ID, FK_T_ID, OA_ASSIGNED_HOURS, OA_ACTUAL_HOURS, OA_ROLE) VALUES (1768531749, 1768531749, 1768531749, 2.0, 0.0, NULL)
Result: ok
Detail: affected_rows=1
Title: Update offering assignment actual hours
SQL: UPDATE OFFERING_ASSIGNMENT SET OA_ACTUAL_HOURS = 7.0 WHERE OA_ID = 1768531749
Result: ok
Detail: affected_rows=1
Title: Verify updated actual hours
SQL: SELECT OA_ID, OA_ACTUAL_HOURS FROM OFFERING_ASSIGNMENT WHERE OA_ID = 1768531749
Result: ok
Rows (first 10):
  {'OA_ID': 1768531749, 'OA_ACTUAL_HOURS': '7.00'}
**************** End of Test Case 11 ****************

********************* Test Case 12 *********************
Case: Teacher actual workload for WS1415
Title: Compute teacher actual workload
SQL: SELECT T_ID, T_NAME, T_LASTNAME, ACTUAL_HOURS, SP_TERM FROM TEACHER_ACTUAL_WORKLOAD WHERE T_LASTNAME = 'Nonnast' AND SP_TERM = 'WS1415'
Result: ok
Rows (first 10):
  {'T_ID': 16, 'T_NAME': 'J�rgen', 'T_LASTNAME': 'Nonnast', 'ACTUAL_HOURS': '14.60', 'SP_TERM': 'WS1415'}
**************** End of Test Case 12 ****************

